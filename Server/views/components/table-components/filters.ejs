<tr class="table-dark">
  <th scope="col">بحث</th>

  <% if (type===`users`){ %>
    <td scope="col">
      <input type="text" class="form-control" name="username" form="filter-form" placeholder="إبحث" value='<%= (filters.username) ? filters.username : '' %>'>
    </td>
    <td scope="col">
      <select class="form-select" name="role" form="filter-form">
        <option value="" <%= (!filters.role) ? "selected" : "" %>>اختر</option>
        <option value="مدير" <%= (filters.role === 'مدير') ? "selected" : "" %>>مدير</option>
        <option value="مشرف" <%= (filters.role === 'مشرف') ? "selected" : "" %>>مشرف</option>
      </select>
    </td>
  <% } else if (type==='bonus' ){ %>
    <td scope="col">
      <select class="form-select">
        <option value="" <%= (filters.from.split(":").length === 1) ? 'selected' : '' %>>يساوي</option>
        <option value="lt:" <%= (filters.from.split(":").length === 2 && filters.from.split(":")[0] === 'lt') ? 'selected' : '' %>>أقل من</option>
        <option value="lte:" <%= (filters.from.split(":").length === 2 && filters.from.split(":")[0] === 'lte') ? 'selected' : '' %>>أقل من أو يساوي</option>
        <option value="gt:" <%= (filters.from.split(":").length === 2 && filters.from.split(":")[0] === 'gt') ? 'selected' : '' %>>أكبر من</option>
        <option value="gte:" <%= (filters.from.split(":").length === 2 && filters.from.split(":")[0] === 'gte') ? 'selected' : '' %>>أكبر من أو يساوي</option>
      </select>
      <input type="number" class="form-control" name="from" form="filter-form" placeholder="إبحث يالرقم" value='<%= (filters.from.split(":").length === 2) ? filters.from.split(":")[1] : filters.from.split(":")[0] %>'>
    </td>
    <td scope="col">
      <select class="form-select">
        <option value="" <%= (filters.to.split(":").length === 1) ? 'selected' : '' %>>يساوي</option>
        <option value="lt:" <%= (filters.to.split(":").length === 2 && filters.to.split(":")[0] === 'lt') ? 'selected' : '' %>>أقل من</option>
        <option value="lte:" <%= (filters.to.split(":").length === 2 && filters.to.split(":")[0] === 'lte') ? 'selected' : '' %>>أقل من أو يساوي</option>
        <option value="gt:" <%= (filters.to.split(":").length === 2 && filters.to.split(":")[0] === 'gt') ? 'selected' : '' %>>أكبر من</option>
        <option value="gte:" <%= (filters.to.split(":").length === 2 && filters.to.split(":")[0] === 'gte') ? 'selected' : '' %>>أكبر من أو يساوي</option>
      </select>
      <input type="number" class="form-control" name="to" form="filter-form" placeholder="إبحث يالرقم" value='<%= (filters.to.split(":").length === 2) ? filters.to.split(":")[1] : filters.to.split(":")[0] %>'>
    </td>
    <td scope="col">
      <select class="form-select">
        <option value="" <%= (filters.percentage.split(":").length === 1) ? 'selected' : '' %>>يساوي</option>
        <option value="lt:" <%= (filters.percentage.split(":").length === 2 && filters.percentage.split(":")[0] === 'lt') ? 'selected' : '' %>>أقل من</option>
        <option value="lte:" <%= (filters.percentage.split(":").length === 2 && filters.percentage.split(":")[0] === 'lte') ? 'selected' : '' %>>أقل من أو يساوي</option>
        <option value="gt:" <%= (filters.percentage.split(":").length === 2 && filters.percentage.split(":")[0] === 'gt') ? 'selected' : '' %>>أكبر من</option>
        <option value="gte:" <%= (filters.percentage.split(":").length === 2 && filters.percentage.split(":")[0] === 'gte') ? 'selected' : '' %>>أكبر من أو يساوي</option>
      </select>
      <input type="range" class="form-range" max="100" min="0" step="1" name="percentage" form="filter-form" value='<%= (filters.percentage.split(":").length === 2) ? filters.percentage.split(":")[1] : filters.percentage.split(":")[0] %>'>
      <div class="text-primary mt-1"></div>
    </td>
  <% } else if (type==='production' ){ %>
    <td scope="col">
      <select class="form-select" name="worker" form="filter-form">
        <option value="" selected <%= (!filters.worker) ? "selected" : "" %>>إختر</option>
        <% workers.forEach(worker=> { %>
          <option value="objectid:<%= worker._id %>" <%= (filters.worker===worker._id.toString() ) ? "selected" : "" %>>
            <%= worker.name %>
          </option>
          <% }) %>
      </select>
    </td>
    <td scope="col">
      <select class="form-select" name="product" form="filter-form">
        <option value="" selected <%= (!filters.product) ? "selected" : "" %>>إختر</option>
        <% products.forEach(product=> { %>
          <option value="objectid:<%= product._id %>" <%= (filters.product===product._id.toString() ) ? "selected" : "" %>>
            <%= product.name %>
          </option>
          <% }) %>
      </select>
    </td>
    <td scope="col">
      <select class="form-select" name="department" form="filter-form">
        <option value="" selected <%= (!filters.department) ? "selected" : "" %>>إختر</option>
        <% departments.forEach(department=> { %>
          <option value="objectid:<%= department._id %>" <%= (filters.department===department._id.toString() ) ? "selected" : "" %>>
            <%= department.name %>
          </option>
          <% }) %>
      </select>
    </td>
    <td scope="col">
      <select class="form-select">
        <option value="" <%= (filters.quantity.split(":").length === 1) ? 'selected' : '' %>>يساوي</option>
        <option value="lt:" <%= (filters.quantity.split(":").length === 2 && filters.quantity.split(":")[0] === 'lt') ? 'selected' : '' %>>أقل من</option>
        <option value="lte:" <%= (filters.quantity.split(":").length === 2 && filters.quantity.split(":")[0] === 'lte') ? 'selected' : '' %>>أقل من أو يساوي</option>
        <option value="gt:" <%= (filters.quantity.split(":").length === 2 && filters.quantity.split(":")[0] === 'gt') ? 'selected' : '' %>>أكبر من</option>
        <option value="gte:" <%= (filters.quantity.split(":").length === 2 && filters.quantity.split(":")[0] === 'gte') ? 'selected' : '' %>>أكبر من أو يساوي</option>
      </select>
      <input type="number" class="form-control" name="quantity" form="filter-form" placeholder="إبحث يالرقم" value='<%= (filters.quantity.split(":").length === 2) ? filters.quantity.split(":")[1] : filters.quantity.split(":")[0] %>'>
    </td>
    <td scope="col">
      <input type="text" class="form-control" name="arabicDate" form="filter-form" placeholder="إبحث" value='<%= (filters.arabicDate) ? filters.arabicDate : '' %>'>
    </td>
    <td scope="col">
      <select class="form-select">
        <option value="" <%= (filters.cost.split(":").length === 1) ? 'selected' : '' %>>يساوي</option>
        <option value="lt:" <%= (filters.cost.split(":").length === 2 && filters.cost.split(":")[0] === 'lt') ? 'selected' : '' %>>أقل من</option>
        <option value="lte:" <%= (filters.cost.split(":").length === 2 && filters.cost.split(":")[0] === 'lte') ? 'selected' : '' %>>أقل من أو يساوي</option>
        <option value="gt:" <%= (filters.cost.split(":").length === 2 && filters.cost.split(":")[0] === 'gt') ? 'selected' : '' %>>أكبر من</option>
        <option value="gte:" <%= (filters.cost.split(":").length === 2 && filters.cost.split(":")[0] === 'gte') ? 'selected' : '' %>>أكبر من أو يساوي</option>
      </select>
      <input type="number" class="form-control" name="cost" form="filter-form" placeholder="إبحث يالرقم" value='<%= (filters.cost.split(":").length === 2) ? filters.cost.split(":")[1] : filters.cost.split(":")[0] %>'>
    </td>
  <% } else if (type==='productPrice' ){ %>
    <td scope="col">
      <select class="form-select" name="product" form="filter-form">
        <option value="" selected <%= (!filters.product) ? "selected" : "" %>>إختر</option>
        <% products.forEach(product=> { %>
          <option value="objectid:<%= product._id %>" <%= (filters.product===product._id.toString() ) ? "selected" : "" %>>
            <%= product.name %>
          </option>
          <% }) %>
      </select>
    </td>
    <td scope="col">
      <select class="form-select" name="department" form="filter-form">
        <option value="" selected <%= (!filters.department) ? "selected" : "" %>>إختر</option>
        <% departments.forEach(department=> { %>
          <option value="objectid:<%= department._id %>" <%= (filters.department===department._id.toString() ) ? "selected" : "" %>>
            <%= department.name %>
          </option>
          <% }) %>
      </select>
    </td>
    <td scope="col">
      <select class="form-select">
        <option value="" <%= (filters.price.split(":").length === 1) ? 'selected' : '' %>>يساوي</option>
        <option value="lt:" <%= (filters.price.split(":").length === 2 && filters.price.split(":")[0] === 'lt') ? 'selected' : '' %>>أقل من</option>
        <option value="lte:" <%= (filters.price.split(":").length === 2 && filters.price.split(":")[0] === 'lte') ? 'selected' : '' %>>أقل من أو يساوي</option>
        <option value="gt:" <%= (filters.price.split(":").length === 2 && filters.price.split(":")[0] === 'gt') ? 'selected' : '' %>>أكبر من</option>
        <option value="gte:" <%= (filters.price.split(":").length === 2 && filters.price.split(":")[0] === 'gte') ? 'selected' : '' %>>أكبر من أو يساوي</option>
      </select>
      <input type="number" class="form-control" name="price" form="filter-form" placeholder="إبحث يالرقم" value='<%= (filters.price.split(":").length === 2) ? filters.price.split(":")[1] : filters.price.split(":")[0] %>'>
    </td>
  <% } else { %>
    <td scope="col">
      <input type="text" class="form-control" name="name" form="filter-form" placeholder="إبحث" value='<%= (filters.name) ? filters.name : '' %>'>
    </td>
  <% } %>

  <td scope="col">
    <select class="form-select" name="createdBy" form="filter-form">
      <option value="" selected <%= (!filters.createdBy) ? "selected" : "" %>>إختر</option>
      <% users.forEach(user=> { %>
        <option value="objectid:<%= user._id %>" <%= (filters.createdBy===user._id.toString() ) ? "selected" : "" %>>
          <%= user.username %>
        </option>
        <% }) %>
    </select>
  </td>
  <td scope="col">
    <select class="form-select" name="updatedBy" form="filter-form">
      <option value="" selected <%= (!filters.updatedBy) ? "selected" : "" %>>إختر</option>
      <% users.forEach(user=> { %>
        <option value="objectid:<%= user._id %>" <%= (filters.updatedBy.replace("objectid:", "" )===user._id.toString() ) ? "selected" : "" %>>
          <%= user.username %>
        </option>
        <% }) %>
    </select>
  </td>
  <td scope="col">
    <input type="text" class="form-control" name="createdAtArabic" form="filter-form" placeholder="إبحث" value='<%= (filters.createdAtArabic) ? filters.createdAtArabic : '' %>'>
  </td>
  <td scope="col">
    <input type="text" class="form-control" name="updatedAtArabic" form="filter-form" placeholder="إبحث" value='<%= (filters.updatedAtArabic) ? filters.updatedAtArabic : '' %>'>
  </td>
  <td scope="col">
    <button type="submit" class="btn btn-success w-4" form="filter-form">تطبيق</button>
  </td>
  <td scope="col">
    <button class="btn btn-success w-4"><a href="/<%= type %>">الإفتراضي</a></button>
  </td>
</tr>